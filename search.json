[{"path":"https://yuw444.github.io/Rforce/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Yu Wang Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://yuw444.github.io/Rforce/articles/get-started.html","id":"generating-composite-endpoint-data","dir":"Articles","previous_headings":"","what":"Generating Composite Endpoint Data","title":"get-started","text":"","code":"library(Rforce) data_list <- compo_sim(n_patients = 500, verbose = FALSE)"},{"path":"https://yuw444.github.io/Rforce/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yu Wang. Author, maintainer.","code":""},{"path":"https://yuw444.github.io/Rforce/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wang Y (2025). Rforce: Random Forests Composite Endpoints. R package version 0.0.0.9000, https://github.com/yuw444/Rforce.","code":"@Manual{,   title = {Rforce: Random Forests for Composite Endpoints},   author = {Yu Wang},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/yuw444/Rforce}, }"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"rforce","dir":"","previous_headings":"","what":"Random Forests for Composite Endpoints","title":"Random Forests for Composite Endpoints","text":"introduce random forests composite endpoints(Rforce) consisting non-fatal composite events terminal events. utilizes generalized estimating equations build trees handles dependent censoring due terminal events concept pseudo--risk duration.","code":""},{"path":"https://yuw444.github.io/Rforce/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Random Forests for Composite Endpoints","text":"can build Rforce source using CMake. Note: Make sure CMake version 3.16.0 higher. CMakeLists.txt file provided repository.","code":"git clone https://github.com/yuw444/Rforce.git cd Rforce mkdir build cd build cmake .. make"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Random Forests for Composite Endpoints","text":"","code":"Rforce [subcommands] <options>"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"available-subcommands","dir":"","previous_headings":"Usage","what":"Available Subcommands","title":"Random Forests for Composite Endpoints","text":"train — Train composite endpoint forest predict — Predict using trained composite endpoint forest new observations -h, --help — Show help message exit","code":""},{"path":[]},{"path":"https://yuw444.github.io/Rforce/index.html","id":"train","dir":"","previous_headings":"Subcommand Details","what":"Train","title":"Random Forests for Composite Endpoints","text":"Train composite endpoint forest model. Options:","code":"Rforce train <options>"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"predict","dir":"","previous_headings":"Subcommand Details","what":"Predict","title":"Random Forests for Composite Endpoints","text":"Predict using trained model test data. Options:","code":"Rforce predict <options>"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Random Forests for Composite Endpoints","text":"Train model: Predict trained model:","code":"Rforce train -d design_matrix.csv -a auxiliary_features.csv -u unitsOfCPIU.txt -o output_folder -v 1 Rforce predict -m output_folder/model.rforce -t test_data.csv -o prediction_results/"},{"path":"https://yuw444.github.io/Rforce/index.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"Random Forests for Composite Endpoints","text":"default, pseudo-risk time φ (phi) re-estimated tree level. Dynamic options (--dynamicrisk, --dynamicphi) allow estimates split flexibility. Parallel computation supported via --threads option. GEE-based splitting p-value adjustment available. Classical survivial data generation Composite endpoint data generation Wcompo methodology realization R interface Rforce","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"Rforce() fits random forest model composite endpoints—including recurrent non-fatal events terminal event—using CPIU (composite pseudo–-risk interval)–wide representation working data structure. function can either: take raw patient-level long-formatted data Surv(id, time, status) ~ covariates formula, internally construct CPIU-wide design matrix auxiliary features, fit forest; directly accept pre-computed cpius object (typically created patients_to_cpius cpius_to_dummy) already contains CPIU-wide matrices meta-data.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"","code":"Rforce(   data = NULL,   formula = NULL,   n_intervals = 10,   weights_by_status = NULL,   cpius = NULL,   split_rule = c(\"Rforce-QLR\", \"Rforce-GEE\", \"Rforce-GEEIntr\", \"RF-SLAM\"),   n_trees = 300,   mtry = NULL,   n_splits = NULL,   min_gain = NULL,   min_node_size = NULL,   max_depth = 8,   seed = 926 )"},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"data Optional data.frame containing patient-level data. Must include least patient ID, event time, event status columns referenced left-hand side formula. Ignored cpius supplied. formula Surv formula form Surv(id, time, status) ~ covariate_1 + covariate_2 + .... left-hand side must contain three variables order: patient ID, follow-time, event status. character string provided, internally converted via .formula. Used cpius NULL. n_intervals Integer; number follow-intervals used build CPIU-wide representation cpius supplied. Defaults 10. default break points based empirical quantiles follow-time. weights_by_status Optional numeric vector non-negative weights, one per unique event status original patient-level data (including censoring). supplied, length must match number unique values status variable. NULL, default weight 0 censoring (status = 0) weight 1 event types. cpius Optional list containing pre-computed CPIU-wide data, typically output patients_to_cpius (optionally processed cpius_to_dummy). expected contain least: design_matrix_Y: numeric matrix CPIU-wide outcomes covariates; auxiliary_features: numeric matrix auxiliary CPIU-level features (e.g., pseudo–-risk durations, event indicators, weights) aligned design_matrix_Y; variableIds: integer vector group IDs dummy-encoded covariates; unitsOfCPIUs: numeric vector giving interval widths; isDummy: logical flag indicating whether covariates already dummy-encoded. cpius supplied, internal data--CPIU conversion step skipped. split_rule Character string specifying splitting rule: \"Rforce-QLR\" — quasi-likelihood ratio–based splitting; \"Rforce-GEE\" — GEE-based splitting without interaction; \"Rforce-GEEIntr\" — GEE-based splitting interaction; \"RF-SLAM\" — RF-SLAM–style splitting without pseudo–-risk durations. Partial matching supported; value must match one strings exactly. n_trees Integer; number trees forest. Default 300. mtry Integer; number candidate variables drawn random split. NULL, default chosen internally based number covariates. n_splits Integer; number candidate split points considered per variable node. NULL, default chosen internally. min_gain Numeric; minimum improvement split criterion required accept split. \"Rforce-QLR\" \"RF-SLAM\" interpreted percentage quasi-likelihood increase (e.g. default 0.01 corresponds 1\\ \"Rforce-GEEIntr\", treated threshold adjusted \\(p\\)-value (e.g. default 0.2). min_node_size Integer; minimum number patients required terminal node (attempt splitting). NULL, default chosen internally based sample size. max_depth Integer; maximum depth tree. Use NULL large value allow essentially full growth, subject min_node_size min_gain. default 8. seed Integer random seed used initialize C back end reproducible forests. Defaults 926.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"object class \"Rforce\", list elements including (limited ): cpius — CPIU-wide list containing design_matrix_Y, auxiliary_features, variableIds, unitsOfCPIUs, related meta-data; bagMatrix — bootstrap sample indicators tree; treePhi — estimates mean structure interval tree; forestMatrix — compact summary forest structure matrix form (intended interpreted directly users); vimpStat — forest structure variable importance summaries returned C back end; predicted, oobPredicted — fitted --bag predictions CPIU scale; hyperparameters nTrees, maxDepth, minNodeSize, minGain, mtry, nsplits, seed; _external_forest_C_Ptr — external pointer storing forest Rforce C API. valid current R session unless serialized restored via saveRforce loadRforce.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"cpius NULL, Rforce(): checks data formula supplied left-hand side formula form Surv(id, time, status); validates variables appearing left- right-hand sides formula present data; computes CPIU interval widths empirical distribution follow-time using n_intervals empirical quantiles; constructs long-format working dataset combining covariates Id, X, Status response variables; calls patients_to_cpius build CPIU-wide design matrix auxiliary features, pseudo–-risk durations used \"Rforce-QLR\", \"Rforce-GEE\", \"Rforce-GEEIntr\", disabled \"RF-SLAM\"; applies cpius_to_dummy dummy-encode factor character covariates already dummy-encoded; passes resulting CPIU-wide matrices, variable grouping, interval widths C routine R_Rforce, together specified splitting rule hyperparameters. fitted forest returned S3 object class \"Rforce\" components including CPIU-wide data structure, forest structure, --bag predictions, along various meta-data facilitate downstream methods print.Rforce(), summary.Rforce(), predict.Rforce().","code":""},{"path":[]},{"path":"https://yuw444.github.io/Rforce/reference/Rforce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit a random forest for composite endpoints using CPIU-wide data — Rforce","text":"","code":"## Example using simulated data library(Rforce)  set.seed(926)  data_list <- compo_sim()  df_censored <- random_censoring(   data       = data_list$dataset,   event_rate = 0.5 )  fit <- Rforce(   data         = df_censored,   formula      = Surv(Id, X, Status) ~ .,   n_intervals  = 5,   n_trees      = 50,   max_depth    = 10,   min_node_size = 20,   min_gain     = 0,   mtry         = 2,   n_splits     = 5 ) #> Error: The data frame must contain the column: .  fit #> Error: object 'fit' not found"},{"path":"https://yuw444.github.io/Rforce/reference/Y_hat_numerical_form.html","id":null,"dir":"Reference","previous_headings":"","what":"Numerical form to calculate the true Y given the true hazard and other parameters — Y_hat_numerical_form","title":"Numerical form to calculate the true Y given the true hazard and other parameters — Y_hat_numerical_form","text":"Numerical form calculate true Y given true hazard parameters","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Y_hat_numerical_form.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Numerical form to calculate the true Y given the true hazard and other parameters — Y_hat_numerical_form","text":"","code":"Y_hat_numerical_form(   t,   constant_baseline_hazard,   baseline_hazard = 1,   mu_0,   sigma_scale_gamma,   lambdaZ,   lambda )"},{"path":"https://yuw444.github.io/Rforce/reference/Y_hat_numerical_form.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Numerical form to calculate the true Y given the true hazard and other parameters — Y_hat_numerical_form","text":"t time point check constant_baseline_hazard logical; whether constant baseline hazard used baseline_hazard scalar, constant baseline hazard sigma_scale_gamma parameter gamma distribution simulate frality term lambdaZ vector, recurrent event hazard rate lambda scalar, hazard rate stopping time a_shape_weibull parameter weibull distribution simulate data sigma_scale_weibull parameter weibull distribution simulate data","code":""},{"path":"https://yuw444.github.io/Rforce/reference/Y_hat_numerical_form.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Numerical form to calculate the true Y given the true hazard and other parameters — Y_hat_numerical_form","text":"scalar, mean number event time t","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_Y_hat.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the predicted number of events at given time points — add_Y_hat","title":"Calculate the predicted number of events at given time points — add_Y_hat","text":"Calculate predicted number events given time points","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_Y_hat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the predicted number of events at given time points — add_Y_hat","text":"","code":"add_Y_hat(lambda_pred, length_cpius, time_to_evaluate)"},{"path":"https://yuw444.github.io/Rforce/reference/add_Y_hat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the predicted number of events at given time points — add_Y_hat","text":"lambda_pred matrix predicted hazard rates interval multiple subjects time_to_evaluate scalar, time point evaluate \\(\\hat Y\\) interval_cpius vector lengths CPIU, length ncol(lambda_pred)","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_Y_hat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the predicted number of events at given time points — add_Y_hat","text":"matrix predicted number events time_points multiple subjects","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_Y_hat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the predicted number of events at given time points — add_Y_hat","text":"","code":"lambdas <- matrix(1:10, nrow = 2, byrow = TRUE) intervals <- rep(3,5) add_Y_hat(lambdas, intervals, c(3, 6, 9)) #> Error: length(time_to_evaluate) not equal to 1"},{"path":"https://yuw444.github.io/Rforce/reference/add_wrss.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the WRSS — add_wrss","title":"Calculate the WRSS — add_wrss","text":"Calculate WRSS","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wrss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the WRSS — add_wrss","text":"","code":"add_wrss(df_test, weights_by_status, lambda_pred, length_cpius, time_point)"},{"path":"https://yuw444.github.io/Rforce/reference/add_wrss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the WRSS — add_wrss","text":"df_test data frame contains composite event observations weights_by_status vector, weights assign event type lambda_pred matrix contains predicated hazard rate subject interval length_cpius vector, length CPIU time_point scalar, time point evaluate WRSS","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wrss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the WRSS — add_wrss","text":"data frame contains WRSS subject","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wrss.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the WRSS — add_wrss","text":"Calculate WRSS(Gerds T. 2006) evaluate performance lambda_pred true Y unknown","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wt.html","id":null,"dir":"Reference","previous_headings":"","what":"convert the recorded event time per patient to the number of events and wt at the given time point per patient — add_wt","title":"convert the recorded event time per patient to the number of events and wt at the given time point per patient — add_wt","text":"convert recorded event time per patient number events wt given time point per patient","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert the recorded event time per patient to the number of events and wt at the given time point per patient — add_wt","text":"","code":"add_wt(data_to_convert, weights_by_status, time_to_evaluate)"},{"path":"https://yuw444.github.io/Rforce/reference/add_wt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert the recorded event time per patient to the number of events and wt at the given time point per patient — add_wt","text":"time_to_evaluate scalar, vector length equal length(unique(data_to_convert$Id)) time point calculate number events wt patient; data_to_convert: data frame columns Id, X, Status weights_by_status: vector weights status, default c(0,1,1) censoring (status: 0), terminal event(status: 1) recurrent event(status: 1)","code":""},{"path":"https://yuw444.github.io/Rforce/reference/add_wt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert the recorded event time per patient to the number of events and wt at the given time point per patient — add_wt","text":"data.frame number events wt given time point per patient","code":""},{"path":"https://yuw444.github.io/Rforce/reference/admin_censoring.html","id":null,"dir":"Reference","previous_headings":"","what":"apply administrative censoring in the given dataset — admin_censoring","title":"apply administrative censoring in the given dataset — admin_censoring","text":"censoring given dataset based given quantile observed time","code":""},{"path":"https://yuw444.github.io/Rforce/reference/admin_censoring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"apply administrative censoring in the given dataset — admin_censoring","text":"","code":"admin_censoring(data_to_convert, censoring_quantile)"},{"path":"https://yuw444.github.io/Rforce/reference/admin_censoring.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"apply administrative censoring in the given dataset — admin_censoring","text":"data_to_convert dataset converted; including columns Id, Status Time censoring_quantile quantile observed time censored","code":""},{"path":"https://yuw444.github.io/Rforce/reference/admin_censoring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"apply administrative censoring in the given dataset — admin_censoring","text":"censored dataset","code":""},{"path":"https://yuw444.github.io/Rforce/reference/admin_censoring.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"apply administrative censoring in the given dataset — admin_censoring","text":"","code":"list_data_to_convert <- compo_sim() df_converted <- manual_censoring(     list_data_to_convert$dataset,     0.9 ) #> Error in manual_censoring(list_data_to_convert$dataset, 0.9): could not find function \"manual_censoring\" str(df_converted) #> Error: object 'df_converted' not found"},{"path":"https://yuw444.github.io/Rforce/reference/break_length_by_interval.html","id":null,"dir":"Reference","previous_headings":"","what":"break the given length into several intervals with the given intervals — break_length_by_interval","title":"break the given length into several intervals with the given intervals — break_length_by_interval","text":"break given length several intervals given intervals","code":""},{"path":"https://yuw444.github.io/Rforce/reference/break_length_by_interval.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"break the given length into several intervals with the given intervals — break_length_by_interval","text":"","code":"break_length_by_interval(length, interval)"},{"path":"https://yuw444.github.io/Rforce/reference/break_length_by_interval.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"break the given length into several intervals with the given intervals — break_length_by_interval","text":"length: length broken interval: given intervals","code":""},{"path":"https://yuw444.github.io/Rforce/reference/break_length_by_interval.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"break the given length into several intervals with the given intervals — break_length_by_interval","text":": vector length interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/break_length_by_interval.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"break the given length into several intervals with the given intervals — break_length_by_interval","text":"","code":"# example code  break_length_by_interval(100, 20:26) #> [1] 20 21 22 23 14"},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"composite event generator for simulation — compo_sim","title":"composite event generator for simulation — compo_sim","text":"composite event generator simulation non-homogeneous Poisson process","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"composite event generator for simulation — compo_sim","text":"","code":"compo_sim(   n_patients = 1000,   n_vars = 10,   vars_cate = c(rep(\"binary\", 6), rep(\"continuous\", 4)),   true_beta = c(0, 0, 0, 0.6, 0, 0, 0.8, 0, 0.7, 0),   lambda = 0.01,   a_shape_weibull = 1,   sigma_scale_weibull = 1,   sigma_scale_gamma = 0.05,   non_linear_hazard = FALSE,   non_linear_function = NULL,   seed = 926,   verbose = FALSE )"},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"composite event generator for simulation — compo_sim","text":"n_patients number patients n_vars number covariates vars_cate vector \"continuous\", \"binary\" true_beta True parameters lambda baseline death hazard entire population a_shape_weibull shape parameter Weibull distribution sigma_scale_weibull scale parameter Weibull distribution sigma_scale_gamma scale parameter gamma distribution non_linear_hazard whether use non-linear hazard function non_linear_function non-linear function generate hazard seed seed random number generation verbose whether print summary number recurrent events per patients","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"composite event generator for simulation — compo_sim","text":"list simulated data parameters","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"composite event generator for simulation — compo_sim","text":"","code":"# example library(doParallel) #> Loading required package: foreach #> Loading required package: iterators #> Loading required package: parallel registerDoParallel(cores = 16) rst <- foreach(i = 1:48) %dopar%{   data_list <- compo_sim(     n_patients = 200,     seed = i,     verbose = FALSE   )   dim(data_list[[1]])   library(dplyr)   df_train <- data_list[[1]] %>%     dplyr::mutate(X = Time) %>%     dplyr::select(-c(\"Time\"))   estimate_list <- wcompo_est(     data = df_train,     weight = c(1, 1)   )   estimate_list$beta } #> Error in {    data_list <- compo_sim(n_patients = 200, seed = i, verbose = FALSE)    dim(data_list[[1]])    library(dplyr)    df_train <- data_list[[1]] %>% dplyr::mutate(X = Time) %>%         dplyr::select(-c(\"Time\"))    estimate_list <- wcompo_est(data = df_train, weight = c(1,         1))    estimate_list$beta}: task 37 failed - \"zero non-NA points\" df_rst <- t(do.call(\"cbind\", rst)) #> Error: object 'rst' not found colMeans(df_rst) #> Error: object 'df_rst' not found boxplot(df_rst) #> Error: object 'df_rst' not found"},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim_mao.html","id":null,"dir":"Reference","previous_headings":"","what":"composite event generator for simulation — compo_sim_mao","title":"composite event generator for simulation — compo_sim_mao","text":"composite event generator simulation, simulator constructed based Mao. L(2015), assumes constant baseline hazard.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim_mao.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"composite event generator for simulation — compo_sim_mao","text":"","code":"compo_sim_mao(   n_patients = 1000,   n_vars = 10,   vars_cate = c(rep(\"binary\", 6), rep(\"continuous\", 4)),   true_beta = c(0, 0, 0, 0.6, 0, 0, 0.8, 0, 0.7, 0),   non_linear_hazard = FALSE,   non_linear_function = NULL,   sigma_scale_gamma = 0.25,   seed = 926,   s = 2000 )"},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim_mao.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"composite event generator for simulation — compo_sim_mao","text":"n_patients number patients n_vars number covariates vars_cate vector \"continuous\", \"binary\" true_beta True parameters non_linear_hazard whether use non-linear hazard function non_linear_function non-linear function generate hazard sigma_scale_gamma variance frailty term seed seed random number generation s number events one patient can , default 2000","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim_mao.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"composite event generator for simulation — compo_sim_mao","text":"list simulated data parameters","code":""},{"path":"https://yuw444.github.io/Rforce/reference/compo_sim_mao.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"composite event generator for simulation — compo_sim_mao","text":"","code":"# example code library(doParallel) registerDoParallel(cores = 16) rst <- foreach(i = 1:48) %dopar%{   data_list <- compo_sim_mao(     n_patients = 200,     seed = i   )   library(dplyr)   df_train <- manual_censoring(data_list[[1]], 0.8)    estimate_list <- wcompo_est(     data = df_train,     weight = c(1, 1)   )    estimate_list$beta } #> Error in {    data_list <- compo_sim_mao(n_patients = 200, seed = i)    library(dplyr)    df_train <- manual_censoring(data_list[[1]], 0.8)    estimate_list <- wcompo_est(data = df_train, weight = c(1,         1))    estimate_list$beta}: task 1 failed - \"could not find function \"manual_censoring\"\" df_rst <- t(do.call(\"cbind\", rst)) #> Error: object 'rst' not found colMeans(df_rst) #> Error: object 'df_rst' not found boxplot(df_rst) #> Error: object 'df_rst' not found"},{"path":"https://yuw444.github.io/Rforce/reference/counts_by_interval_and_id.html","id":null,"dir":"Reference","previous_headings":"","what":"calculate the number of events in each interval — counts_by_interval_and_id","title":"calculate the number of events in each interval — counts_by_interval_and_id","text":"calculate number events interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/counts_by_interval_and_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"calculate the number of events in each interval — counts_by_interval_and_id","text":"","code":"counts_by_interval_and_id(   event_times,   ids,   status,   weights_by_status,   interval )"},{"path":"https://yuw444.github.io/Rforce/reference/counts_by_interval_and_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"calculate the number of events in each interval — counts_by_interval_and_id","text":"event_times: vector event times ids: vector ids status: vector status weights_by_status: vector weights status interval: vector intervals","code":""},{"path":"https://yuw444.github.io/Rforce/reference/counts_by_interval_and_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"calculate the number of events in each interval — counts_by_interval_and_id","text":"matrix number events interval id, row id, column interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/cpius_to_dummy.html","id":null,"dir":"Reference","previous_headings":"","what":"Dummy-encode factor/character covariates in CPIU object — cpius_to_dummy","title":"Dummy-encode factor/character covariates in CPIU object — cpius_to_dummy","text":"function takes CPIU object dummy-encodes factor character covariates design matrix outcome variable Y. removes reference level factor avoid multicollinearity.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/cpius_to_dummy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dummy-encode factor/character covariates in CPIU object — cpius_to_dummy","text":"","code":"cpius_to_dummy(object, cols_to_dummy = NULL)"},{"path":"https://yuw444.github.io/Rforce/reference/cpius_to_dummy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dummy-encode factor/character covariates in CPIU object — cpius_to_dummy","text":"object CPIU object. cols_to_dummy Optional vector column names dummy-encode. NULL, factor/character columns dummy-encoded.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/cpius_to_dummy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dummy-encode factor/character covariates in CPIU object — cpius_to_dummy","text":"CPIU object dummy-encoded covariates designMatrixY.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/empirical_Y.html","id":null,"dir":"Reference","previous_headings":"","what":"Empirical Mean Number of Events at the Different Time Point — empirical_Y","title":"Empirical Mean Number of Events at the Different Time Point — empirical_Y","text":"Empirical Mean Number Events Different Time Point","code":""},{"path":"https://yuw444.github.io/Rforce/reference/empirical_Y.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Empirical Mean Number of Events at the Different Time Point — empirical_Y","text":"","code":"empirical_Y(   compo_sim_list,   weibull_baseline = TRUE,   x,   time_points,   n_sims,   n_size )"},{"path":"https://yuw444.github.io/Rforce/reference/empirical_Y.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Empirical Mean Number of Events at the Different Time Point — empirical_Y","text":"compo_sim_list simulation list either compo_sim compo_sim_mao weibull_baseline simulation scheme used, default compo_sim x patient characteristics exam time_points time point exam n_sims number simulations run n_size number patients simulation","code":""},{"path":"https://yuw444.github.io/Rforce/reference/empirical_Y.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Empirical Mean Number of Events at the Different Time Point — empirical_Y","text":"Calculate empirical mean number event different time points using data simulation","code":""},{"path":"https://yuw444.github.io/Rforce/reference/km_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"fit kaplan meier survival function — km_fit","title":"fit kaplan meier survival function — km_fit","text":"fit kaplan meier survival function","code":""},{"path":"https://yuw444.github.io/Rforce/reference/km_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"fit kaplan meier survival function — km_fit","text":"","code":"km_fit(time, status)"},{"path":"https://yuw444.github.io/Rforce/reference/km_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"fit kaplan meier survival function — km_fit","text":"time: time event status: event status, 0 censored, 1 terminal event","code":""},{"path":"https://yuw444.github.io/Rforce/reference/km_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"fit kaplan meier survival function — km_fit","text":"list unique time survival probability","code":""},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":null,"dir":"Reference","previous_headings":"","what":"Load an Rforce Object from Disk — loadRforce","title":"Load an Rforce Object from Disk — loadRforce","text":"loadRforce() restores previously saved Rforce object specified directory. reconstructs R-side object (stored Rforce.rds) associated C++ forest structure via R_LoadRforce routine, ensuring full functionality.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load an Rforce Object from Disk — loadRforce","text":"","code":"loadRforce(path)"},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load an Rforce Object from Disk — loadRforce","text":"path character string specifying directory containing saved Rforce object. directory must include Rforce.rds single forest data subdirectory created saveRforce().","code":""},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load an Rforce Object from Disk — loadRforce","text":"fully functional Rforce object reconstructed external forest pointer, ready prediction, visualization, analysis.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load an Rforce Object from Disk — loadRforce","text":"function performs following tasks: Reads Rforce.rds file reconstruct R-side object. Validates restored object inherits class \"Rforce\". Locates associated forest data directory. Calls native routine R_LoadRforce rebuild C-allocated forest structure, restoring external pointer _external_forest_C_Ptr. directory structure invalid C pointer fails load, error raised.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/loadRforce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load an Rforce Object from Disk — loadRforce","text":"","code":"if (FALSE) { # \\dontrun{ # Load a previously saved Rforce model rf <- loadRforce(\"path/to/saved/model\") rf } # }"},{"path":"https://yuw444.github.io/Rforce/reference/observed_risk_time.html","id":null,"dir":"Reference","previous_headings":"","what":"calculate observed risk time at the given interval — observed_risk_time","title":"calculate observed risk time at the given interval — observed_risk_time","text":"calculate observed risk time given interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/observed_risk_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"calculate observed risk time at the given interval — observed_risk_time","text":"","code":"observed_risk_time(Gt, X, Status = 0, low = 1, high = 3)"},{"path":"https://yuw444.github.io/Rforce/reference/observed_risk_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"calculate observed risk time at the given interval — observed_risk_time","text":"Gt: list unique time survival probability Censoring X: time point associated Status Status: event status time point X low: lower bound interval high: upper bound interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/observed_risk_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"calculate observed risk time at the given interval — observed_risk_time","text":": observed risk time given interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/patients_to_cpius.html","id":null,"dir":"Reference","previous_headings":"","what":"convert the recorded event time per patient to the number of events per interval per patient — patients_to_cpius","title":"convert the recorded event time per patient to the number of events per interval per patient — patients_to_cpius","text":"convert recorded event time per patient number events per interval per patient","code":""},{"path":"https://yuw444.github.io/Rforce/reference/patients_to_cpius.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert the recorded event time per patient to the number of events per interval per patient — patients_to_cpius","text":"","code":"patients_to_cpius(   data_to_convert,   units_of_cpiu,   weights_by_status = c(0, 1, 1),   pseudo_risk = TRUE,   wide_format = TRUE )"},{"path":"https://yuw444.github.io/Rforce/reference/patients_to_cpius.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert the recorded event time per patient to the number of events per interval per patient — patients_to_cpius","text":"data_to_convert: data frame columns Id, X, Status units_of_cpiu: vector units CPIU weights_by_status: vector weights status, default c(0,1,1) censoring (status: 0), terminal event(status: 1) recurrent event(status: 1) pseudo_risk: boolean value indicating whether use pseudo risk time","code":""},{"path":"https://yuw444.github.io/Rforce/reference/patients_to_cpius.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert the recorded event time per patient to the number of events per interval per patient — patients_to_cpius","text":": dataframe number events interval id, row id, column interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/predict.Rforce.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict function for Rforce — predict.Rforce","title":"Predict function for Rforce — predict.Rforce","text":"Predict function Rforce","code":""},{"path":"https://yuw444.github.io/Rforce/reference/predict.Rforce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict function for Rforce — predict.Rforce","text":"","code":"# S3 method for class 'Rforce' predict(forest, designMatrix)"},{"path":"https://yuw444.github.io/Rforce/reference/predict.Rforce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict function for Rforce — predict.Rforce","text":"forest Rforce forest object designMatrix matrix design features prediction","code":""},{"path":"https://yuw444.github.io/Rforce/reference/predict.Rforce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Predict function for Rforce — predict.Rforce","text":"list containing predicted values","code":""},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize a Single Tree from an Rforce Forest — printTree","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"function extracts single decision tree Rforce forest, generates Graphviz DOT representation via underlying C backend, renders using DiagrammeR. DOT file stored temporarily automatically removed R session.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"","code":"printTree(forest, treeIndex)"},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"forest object class Rforce containing trained forest valid external C pointer `_external_forest_C_Ptr`. treeIndex integer specifying index tree visualize. Must 1 forest\\$numTrees.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"DiagrammeR graph object representing visualized decision tree. Additionally, message printed showing location temporary DOT file.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"Internally, function: Validates input. Creates temporary .dot file. Calls C function R_PrintTree via .Call write DOT graph representation tree. Displays tree structure using DiagrammeR::grViz(). DOT file persists current R session stored temporary directory. automatically cleaned session ends.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/printTree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize a Single Tree from an Rforce Forest — printTree","text":"","code":"if (FALSE) { # \\dontrun{ # Assuming `rf_model` is an Rforce object with at least one tree: printTree(rf_model, treeIndex = 1) } # }"},{"path":"https://yuw444.github.io/Rforce/reference/pseudo_risk_time.html","id":null,"dir":"Reference","previous_headings":"","what":"calculate pseudo risk time at the given interval — pseudo_risk_time","title":"calculate pseudo risk time at the given interval — pseudo_risk_time","text":"calculate pseudo risk time given interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/pseudo_risk_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"calculate pseudo risk time at the given interval — pseudo_risk_time","text":"","code":"pseudo_risk_time(Gt, X, Status = 0, low = 1, high = 3)"},{"path":"https://yuw444.github.io/Rforce/reference/pseudo_risk_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"calculate pseudo risk time at the given interval — pseudo_risk_time","text":"Gt: list unique time survival probability Censoring X: time point associated Status Status: event status time point X low: lower bound interval high: upper bound interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/pseudo_risk_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"calculate pseudo risk time at the given interval — pseudo_risk_time","text":": pseudo risk time given interval","code":""},{"path":"https://yuw444.github.io/Rforce/reference/pseudo_risk_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"calculate pseudo risk time at the given interval — pseudo_risk_time","text":"","code":"# example code  Gt <- list(unique_time = c(0, 1, 1.8, 3.5, 4),             surv_prop = c(1, 0.8,0.6, 0.3, 0.1)) pseudo_risk_time(Gt, X =1.5 , Status = 1, low =0.5, high=1.9) #> Error in pseudo_risk_time(Gt, X = 1.5, Status = 1, low = 0.5, high = 1.9): could not find function \"pseudo_risk_time\""},{"path":"https://yuw444.github.io/Rforce/reference/random_censoring.html","id":null,"dir":"Reference","previous_headings":"","what":"apply random censoring in the given dataset — random_censoring","title":"apply random censoring in the given dataset — random_censoring","text":"censoring given dataset based given event rate","code":""},{"path":"https://yuw444.github.io/Rforce/reference/random_censoring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"apply random censoring in the given dataset — random_censoring","text":"","code":"random_censoring(data_to_convert, event_rate, seed = 926, verbose = FALSE)"},{"path":"https://yuw444.github.io/Rforce/reference/random_censoring.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"apply random censoring in the given dataset — random_censoring","text":"data_to_convert dataset converted; including columns Id, Status Time event_rate desired event rate seed seed RNG, default 926 verbose print details","code":""},{"path":"https://yuw444.github.io/Rforce/reference/random_censoring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"apply random censoring in the given dataset — random_censoring","text":"censored dataset","code":""},{"path":"https://yuw444.github.io/Rforce/reference/random_censoring.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"apply random censoring in the given dataset — random_censoring","text":"","code":"list_data_to_convert <- compo_sim() df_converted <- random_censoring(     list_data_to_convert$dataset,     0.8 ) str(df_converted) #> 'data.frame':\t3197 obs. of  13 variables: #>  $ Id          : int  1 2 3 3 3 3 4 5 6 7 ... #>  $ X           : num  0.00123 0.54805 0.05301 0.10663 1.24427 ... #>  $ Status      : num  1 1 2 2 2 1 1 0 1 2 ... #>  $ binary1     : num  0 1 1 1 1 1 0 1 0 1 ... #>  $ binary2     : num  1 0 1 1 1 1 0 0 1 1 ... #>  $ binary3     : num  0 1 1 1 1 1 0 1 0 0 ... #>  $ binary4     : num  0 0 1 1 1 1 0 1 0 0 ... #>  $ binary5     : num  0 1 1 1 1 1 0 1 0 0 ... #>  $ binary6     : num  0 0 1 1 1 1 0 0 0 0 ... #>  $ continuous7 : num  0.228 0.798 0.463 0.463 0.463 ... #>  $ continuous8 : num  0.568 0.714 0.0105 0.0105 0.0105 ... #>  $ continuous9 : num  0.7125 0.2585 0.0927 0.0927 0.0927 ... #>  $ continuous10: num  0.738 0.447 0.483 0.483 0.483 ..."},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":null,"dir":"Reference","previous_headings":"","what":"Save an Rforce Object to Disk — saveRforce","title":"Save an Rforce Object to Disk — saveRforce","text":"saveRforce() saves trained Rforce object disk, including R-side metadata (e.g., model settings, variable importance, parameters) full C-based forest structure. external C pointer handled separately excluded saved .rds file ensure portability session safety.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save an Rforce Object to Disk — saveRforce","text":"","code":"saveRforce(forest, file, ...)"},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save an Rforce Object to Disk — saveRforce","text":"forest object class \"Rforce\" representing fitted random survival forest. file character string specifying directory path object saved. directory created underlying C routine already exist. ... Additional arguments passed saveRDS(), compress version.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save an Rforce Object to Disk — saveRforce","text":"Invisibly returns NULL. message printed, files written specified directory.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Save an Rforce Object to Disk — saveRforce","text":"function performs following actions: Calls native routine R_SaveRforce serialize write forest structure (trees) specified directory. Removes external C pointer (_external_forest_C_Ptr) R object prevent session-specific pointer issues. Saves remaining R-side object Rforce.rds using saveRDS(). resulting directory structure compatible loadRforce(), restores R object native forest pointer.","code":""},{"path":[]},{"path":"https://yuw444.github.io/Rforce/reference/saveRforce.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save an Rforce Object to Disk — saveRforce","text":"","code":"if (FALSE) { # \\dontrun{ # Fit an Rforce model and then save it saveRforce(rf_model, file = \"saved_model\") } # }"},{"path":"https://yuw444.github.io/Rforce/reference/surv_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival data generation using either weibull or inverse CDF method — surv_sim","title":"Survival data generation using either weibull or inverse CDF method — surv_sim","text":"Survival data generation using either weibull inverse CDF method","code":""},{"path":"https://yuw444.github.io/Rforce/reference/surv_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survival data generation using either weibull or inverse CDF method — surv_sim","text":"","code":"surv_sim(   n_patients,   n_vars,   vars_cate,   scale_weibull,   shape_weibull,   beta,   rateC,   seed = 926,   method = c(\"InverseCDF\", \"Weibull\") )"},{"path":"https://yuw444.github.io/Rforce/reference/surv_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survival data generation using either weibull or inverse CDF method — surv_sim","text":"n_patients number patients n_vars number covariates vars_cate vector \"continuous\", \"binary\" scale_weibull scale parameter baseline hazard weibull distribution shape_weibull shape parameter weibull, shape_weibull < 1 decreasing hazard, shape_weibull > 1 increasing hazard, shape_weibull=1 constant hazard beta Fixed effect parameter, control noise variable set betai = 0 rateC censoring rate, seed seed method \"InverseCDF\" \"Weibull\"","code":""},{"path":"https://yuw444.github.io/Rforce/reference/surv_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survival data generation using either weibull or inverse CDF method — surv_sim","text":"data frame columns: Id, HazardWOBaseline, Time, Censor, X, Status, x1, x2, ...","code":""},{"path":"https://yuw444.github.io/Rforce/reference/surv_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Survival data generation using either weibull or inverse CDF method — surv_sim","text":"","code":"library(survival) set.seed(926) nsim <- 100 beta_true <- c(0, 0.8, -0.8, -1.5, 0, 3, 0, -1, 0.8, 1.5, 3, 0, -0.8, 0, -3) betaHat <- matrix(nrow = nsim, ncol = 15) for (k in 1:nsim) {   df_surv <- surv_sim(     n_patients = 1000,     scale_weibull = 1,     shape_weibull = 1,     beta = beta_true,     rateC = 0.3,     n_vars = 15,     vars_cate = c(rep(\"binary\", 7), rep(\"continous\", 8)),     method = \"InverseCDF\",     seed = 926 + k   )   fit <- coxph(Surv(X, Status) ~ ., data = df_surv[, -c(1:4)])   betaHat[k, ] <- fit$coef } colMeans(betaHat) - beta_true #>  [1] -0.0034724470  0.0021831449 -0.0074545855 -0.0108587385  0.0062379842 #>  [6]  0.0308821523  0.0025897539 -0.0011369898  0.0153488615  0.0042831387 #> [11]  0.0339854245 -0.0018421230 -0.0087771831  0.0009899273 -0.0399372835"},{"path":"https://yuw444.github.io/Rforce/reference/true_Y.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the mean number events for each subject at different time points in the simulated dataset — true_Y","title":"Calculate the mean number events for each subject at different time points in the simulated dataset — true_Y","text":"Calculate mean number events subject different time points simulated dataset","code":""},{"path":"https://yuw444.github.io/Rforce/reference/true_Y.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the mean number events for each subject at different time points in the simulated dataset — true_Y","text":"","code":"true_Y(compo_sim_list, time_points)"},{"path":"https://yuw444.github.io/Rforce/reference/true_Y.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the mean number events for each subject at different time points in the simulated dataset — true_Y","text":"compo_sim_list object compo_sim compo_sim_mao time_points time points need evaluated","code":""},{"path":"https://yuw444.github.io/Rforce/reference/true_Y.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the mean number events for each subject at different time points in the simulated dataset — true_Y","text":"data frame (n_subject x length(time_point))","code":""},{"path":"https://yuw444.github.io/Rforce/reference/true_Y_numerical_form.html","id":null,"dir":"Reference","previous_headings":"","what":"Numerical form to calculate the true Y given the true hazard and other parameters — true_Y_numerical_form","title":"Numerical form to calculate the true Y given the true hazard and other parameters — true_Y_numerical_form","text":"Numerical form calculate true Y given true hazard parameters","code":""},{"path":"https://yuw444.github.io/Rforce/reference/true_Y_numerical_form.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Numerical form to calculate the true Y given the true hazard and other parameters — true_Y_numerical_form","text":"","code":"true_Y_numerical_form(   t,   constant_baseline_hazard = FALSE,   baseline_hazard = 1,   a_shape_weibull,   sigma_scale_weibull,   sigma_scale_gamma,   lambdaZ,   lambda )"},{"path":"https://yuw444.github.io/Rforce/reference/true_Y_numerical_form.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Numerical form to calculate the true Y given the true hazard and other parameters — true_Y_numerical_form","text":"t time point check constant_baseline_hazard logical; whether constant baseline hazard used baseline_hazard scalar, constant baseline hazard a_shape_weibull parameter weibull distribution simulate data sigma_scale_weibull parameter weibull distribution simulate data sigma_scale_gamma parameter gamma distribution simulate frality term lambdaZ vector, recurrent event hazard rate lambda scalar, hazard rate stopping time","code":""},{"path":"https://yuw444.github.io/Rforce/reference/true_Y_numerical_form.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Numerical form to calculate the true Y given the true hazard and other parameters — true_Y_numerical_form","text":"scalar, mean number event time t","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.CPIU.html","id":null,"dir":"Reference","previous_headings":"","what":"validate CPIU object — validate.CPIU","title":"validate CPIU object — validate.CPIU","text":"validate CPIU object","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.CPIU.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"validate CPIU object — validate.CPIU","text":"","code":"# S3 method for class 'CPIU' validate(object)"},{"path":"https://yuw444.github.io/Rforce/reference/validate.CPIU.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"validate CPIU object — validate.CPIU","text":"object: CPIU object","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.CPIU.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"validate CPIU object — validate.CPIU","text":": TRUE object valid","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.data.frame.html","id":null,"dir":"Reference","previous_headings":"","what":"validate data.frame object — validate.data.frame","title":"validate data.frame object — validate.data.frame","text":"validate data.frame object","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.data.frame.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"validate data.frame object — validate.data.frame","text":"","code":"# S3 method for class 'data.frame' validate(object, required_cols = NULL)"},{"path":"https://yuw444.github.io/Rforce/reference/validate.data.frame.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"validate data.frame object — validate.data.frame","text":"object: data.frame object required_cols: vector required column names","code":""},{"path":"https://yuw444.github.io/Rforce/reference/validate.data.frame.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"validate data.frame object — validate.data.frame","text":": TRUE object valid","code":""},{"path":"https://yuw444.github.io/Rforce/reference/vimp.Rforce.html","id":null,"dir":"Reference","previous_headings":"","what":"Variable importance function for Rforce object — vimp.Rforce","title":"Variable importance function for Rforce object — vimp.Rforce","text":"Variable importance function Rforce object","code":""},{"path":"https://yuw444.github.io/Rforce/reference/vimp.Rforce.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variable importance function for Rforce object — vimp.Rforce","text":"","code":"vimp.Rforce(forest)"},{"path":"https://yuw444.github.io/Rforce/reference/vimp.Rforce.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variable importance function for Rforce object — vimp.Rforce","text":"forest Rforce object","code":""},{"path":"https://yuw444.github.io/Rforce/reference/vimp.Rforce.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Variable importance function for Rforce object — vimp.Rforce","text":"matrix containing variable importance statistics variable tree forest, row correspond trees columns correspond variables.","code":""},{"path":"https://yuw444.github.io/Rforce/reference/wcompo_est.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","title":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","text":"function fast implementation Lu Mao's Wcompo method Kim Young","code":""},{"path":"https://yuw444.github.io/Rforce/reference/wcompo_est.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","text":"","code":"wcompo_est(data, weight)"},{"path":"https://yuw444.github.io/Rforce/reference/wcompo_est.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","text":"data data frame including Id, X, Status, covariates weight weight death recurrent events","code":""},{"path":"https://yuw444.github.io/Rforce/reference/wcompo_est.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","text":"list, including beta estimate, y, t","code":""},{"path":"https://yuw444.github.io/Rforce/reference/wcompo_est.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fast implementation of Lu Mao's Wcompo method by Kim So Young — wcompo_est","text":"","code":"data_list <- compo_sim(   n_patients = 500,   seed = 926,   verbose = FALSE ) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union df_train <- data_list[[1]] %>%   dplyr::mutate(X = Time) %>%   dplyr::select(-c(\"Time\"))  estimate_list <- wcompo_est(   data = df_train,   weight = c(1, 1) ) estimate_list$beta #>              [,1] #>  [1,] -0.02843479 #>  [2,]  0.03137461 #>  [3,] -0.06931644 #>  [4,]  0.55227028 #>  [5,]  0.01203906 #>  [6,] -0.02577392 #>  [7,]  0.68532311 #>  [8,] -0.06726258 #>  [9,]  0.89298230 #> [10,]  0.14333866"}]
